{"ast":null,"code":"import _slicedToArray from\"C:/Users/drewm/itinerary/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import jwt_decode from\"jwt-decode\";import'./Styles/Login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),googleLoaded=_useState4[0],setGoogleLoaded=_useState4[1];function handleCallBackResponse(response){console.log(\"Encoded JWT ID token: \"+response.credential);var userObject=jwt_decode(response.credential);setUser(userObject);document.getElementById(\"signInDiv\").hidden=true;}function handleSignOut(event){setUser({});document.getElementById(\"signInDiv\").hidden=false;}useEffect(function(){var loadGoogleScript=function loadGoogleScript(){// Check if script is already loaded\nif(!window.google||!window.google.accounts){var script=document.createElement('script');script.src='https://accounts.google.com/gsi/client';script.async=true;script.defer=true;script.onload=function(){if(window.google&&window.google.accounts){window.google.accounts.id.initialize({client_id:\"1005325099127-qdh6mv05e08eqtqhb6v4o31t0vb9m43d.apps.googleusercontent.com\",callback:handleCallBackResponse});window.google.accounts.id.renderButton(document.getElementById(\"signInDiv\"),{theme:\"outline\",size:\"large\"});}};document.body.appendChild(script);}};loadGoogleScript();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"signInDiv\"}),Object.keys(user).length!==0&&/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSignOut,className:\"sign-out-button\",children:\"Sign Out\"}),user.picture&&/*#__PURE__*/_jsx(\"img\",{src:user.picture,alt:\"profile\",className:\"profile-image\"}),/*#__PURE__*/_jsx(\"h3\",{children:user.name})]})]});}export default Login;","map":{"version":3,"names":["React","useEffect","useState","jwt_decode","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","user","setUser","_useState3","_useState4","googleLoaded","setGoogleLoaded","handleCallBackResponse","response","console","log","credential","userObject","document","getElementById","hidden","handleSignOut","event","loadGoogleScript","window","google","accounts","script","createElement","src","async","defer","onload","id","initialize","client_id","callback","renderButton","theme","size","body","appendChild","className","children","Object","keys","length","onClick","picture","alt","name"],"sources":["C:/Users/drewm/itinerary/src/Pages/Login.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport './Styles/Login.css';\r\n\r\nfunction Login() {\r\n  const [user, setUser] = useState({});\r\n  const [googleLoaded, setGoogleLoaded] = useState(false);\r\n\r\n  function handleCallBackResponse(response) {\r\n    console.log(\"Encoded JWT ID token: \" + response.credential);\r\n    var userObject = jwt_decode(response.credential);\r\n    setUser(userObject);\r\n    document.getElementById(\"signInDiv\").hidden = true;\r\n  }\r\n\r\n  function handleSignOut(event) {\r\n    setUser({});\r\n    document.getElementById(\"signInDiv\").hidden = false;\r\n  }\r\n\r\n  useEffect(() => {\r\n    const loadGoogleScript = () => {\r\n      // Check if script is already loaded\r\n      if (!window.google || !window.google.accounts) {\r\n        const script = document.createElement('script');\r\n        script.src = 'https://accounts.google.com/gsi/client';\r\n        script.async = true;\r\n        script.defer = true;\r\n        script.onload = () => {\r\n          if (window.google && window.google.accounts) {\r\n            window.google.accounts.id.initialize({\r\n              client_id: \"1005325099127-qdh6mv05e08eqtqhb6v4o31t0vb9m43d.apps.googleusercontent.com\",\r\n              callback: handleCallBackResponse\r\n            });\r\n            window.google.accounts.id.renderButton(\r\n              document.getElementById(\"signInDiv\"),\r\n              { theme: \"outline\", size: \"large\" }\r\n            );\r\n          }\r\n        };\r\n        document.body.appendChild(script);\r\n      }\r\n    };\r\n    loadGoogleScript();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <div id=\"signInDiv\"></div>\r\n      {Object.keys(user).length !== 0 && (\r\n        <div className=\"user-info\">\r\n          <button onClick={handleSignOut} className=\"sign-out-button\">Sign Out</button>\r\n          {user.picture && <img src={user.picture} alt=\"profile\" className=\"profile-image\" />}\r\n          <h3>{user.name}</h3>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;"],"mappings":"8GAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,UAAU,KAAM,YAAY,CACnC,MAAO,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5B,QAAS,CAAAC,KAAKA,CAAA,CAAG,CACf,IAAAC,SAAA,CAAwBP,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpB,IAAAI,UAAA,CAAwCZ,QAAQ,CAAC,KAAK,CAAC,CAAAa,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAhDE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IAEpC,QAAS,CAAAG,sBAAsBA,CAACC,QAAQ,CAAE,CACxCC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAGF,QAAQ,CAACG,UAAU,CAAC,CAC3D,GAAI,CAAAC,UAAU,CAAGpB,UAAU,CAACgB,QAAQ,CAACG,UAAU,CAAC,CAChDT,OAAO,CAACU,UAAU,CAAC,CACnBC,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC,CAACC,MAAM,CAAG,IAAI,CACpD,CAEA,QAAS,CAAAC,aAAaA,CAACC,KAAK,CAAE,CAC5Bf,OAAO,CAAC,CAAC,CAAC,CAAC,CACXW,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC,CAACC,MAAM,CAAG,KAAK,CACrD,CAEAzB,SAAS,CAAC,UAAM,CACd,GAAM,CAAA4B,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAC7B;AACA,GAAI,CAACC,MAAM,CAACC,MAAM,EAAI,CAACD,MAAM,CAACC,MAAM,CAACC,QAAQ,CAAE,CAC7C,GAAM,CAAAC,MAAM,CAAGT,QAAQ,CAACU,aAAa,CAAC,QAAQ,CAAC,CAC/CD,MAAM,CAACE,GAAG,CAAG,wCAAwC,CACrDF,MAAM,CAACG,KAAK,CAAG,IAAI,CACnBH,MAAM,CAACI,KAAK,CAAG,IAAI,CACnBJ,MAAM,CAACK,MAAM,CAAG,UAAM,CACpB,GAAIR,MAAM,CAACC,MAAM,EAAID,MAAM,CAACC,MAAM,CAACC,QAAQ,CAAE,CAC3CF,MAAM,CAACC,MAAM,CAACC,QAAQ,CAACO,EAAE,CAACC,UAAU,CAAC,CACnCC,SAAS,CAAE,2EAA2E,CACtFC,QAAQ,CAAExB,sBACZ,CAAC,CAAC,CACFY,MAAM,CAACC,MAAM,CAACC,QAAQ,CAACO,EAAE,CAACI,YAAY,CACpCnB,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC,CACpC,CAAEmB,KAAK,CAAE,SAAS,CAAEC,IAAI,CAAE,OAAQ,CACpC,CAAC,CACH,CACF,CAAC,CACDrB,QAAQ,CAACsB,IAAI,CAACC,WAAW,CAACd,MAAM,CAAC,CACnC,CACF,CAAC,CACDJ,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEtB,KAAA,QAAKyC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B5C,IAAA,QAAKkC,EAAE,CAAC,WAAW,CAAM,CAAC,CACzBW,MAAM,CAACC,IAAI,CAACvC,IAAI,CAAC,CAACwC,MAAM,GAAK,CAAC,eAC7B7C,KAAA,QAAKyC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB5C,IAAA,WAAQgD,OAAO,CAAE1B,aAAc,CAACqB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,UAAQ,CAAQ,CAAC,CAC5ErC,IAAI,CAAC0C,OAAO,eAAIjD,IAAA,QAAK8B,GAAG,CAAEvB,IAAI,CAAC0C,OAAQ,CAACC,GAAG,CAAC,SAAS,CAACP,SAAS,CAAC,eAAe,CAAE,CAAC,cACnF3C,IAAA,OAAA4C,QAAA,CAAKrC,IAAI,CAAC4C,IAAI,CAAK,CAAC,EACjB,CACN,EACE,CAAC,CAEV,CAEA,cAAe,CAAAhD,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}